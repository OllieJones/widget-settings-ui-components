!function(){"use strict";angular.module("risevision.widget.common.url-field",["risevision.widget.common.translate"]).directive("urlField",["$templateCache","$log",function(l,a){return{restrict:"E",require:"?ngModel",scope:{url:"="},template:l.get("_angular/url-field/url-field.html"),link:function(l,n,i,e){function t(l){var a;return a=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/i,-1===l.indexOf("://")&&(l="http://"+l),a.test(l)}l.doValidation=!0,l.failCount=0,l.valid=!0,l.$watch("valid",function(n){n||(l.failCount+=1),e&&(a.info("Calling $setValidity() on parent controller"),e.$setValidity("valid",n))}),l.$watch("doValidation",function(a){l.valid=a&&"undefined"!=typeof l.url?t(l.url):!0}),l.onChange=function(){l.doValidation&&(l.valid=t(l.url))}}}}])}(),function(){try{app=angular.module("risevision.widget.common.url-field")}catch(l){app=angular.module("risevision.widget.common.url-field",[])}app.run(["$templateCache",function(l){"use strict";l.put("_angular/url-field/url-field.html",'<div class="form-group" ng-show="failCount > 0">\n  <div class="checkbox">\n    <label>\n      <input name="validate-url" ng-click="doValidation = !doValidation" type="checkbox"\n             value="validate-url" checked="checked"> {{"url.validate" | translate}}\n    </label>\n  </div>\n  <div ng-if="!valid">\n    <span class="text-danger">{{ "url.invalid" | translate }}</span>\n  </div>\n</div>\n<div class="form-group">\n  <label>{{ "url.label" | translate }}</label>\n  <input name="url" type="text" ng-model="url" class="form-control" placeholder="http://" ng-change="onChange()">\n</div>\n')}])}();