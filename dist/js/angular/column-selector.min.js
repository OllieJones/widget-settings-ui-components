!function(){"use strict";angular.module("risevision.widget.common.column-selector",["risevision.widget.common.column-setting","risevision.widget.common.translate"]).directive("columnSelector",["$templateCache",function(n){return{restrict:"E",require:"?ngModel",scope:{columns:"=",columnNames:"="},template:n.get("_angular/column-selector/column-selector.html"),transclude:!1,link:function(n,e,o,l){function c(n,e){for(var o=0;o<n.length;o++)if(n[o].name===e){n.splice(o,1);break}}function m(){l&&l.$setValidity("required",n.columns.length)}var s=n.$watch("columns",function(){if(n.columns&&n.columnNames){for(var e=0;e<n.columns.length;e++)for(var o=0;o<n.columnNames.length;o++)n.columns[e].name===n.columnNames[o].name&&(n.columns[e].type=n.columnNames[o].type,n.columnNames[e].show=!0);m(),s()}});n.add=function(e){e.show=!0,n.columns.push(e),m()},n.remove=function(e){if(e){c(n.columns,e.name);for(var o=0;o<n.columnNames.length;o++)if(e.name===n.columnNames[o].name){n.columnNames[o].show=!1;break}m()}}}}}])}(),function(){try{app=angular.module("risevision.widget.common.column-selector")}catch(n){app=angular.module("risevision.widget.common.column-selector",[])}app.run(["$templateCache",function(n){"use strict";n.put("_angular/column-selector/column-selector.html",'<div class="tag-manager">\n	<div class="tags">\n		<span ng-repeat="column in columnNames" ng-hide="column.show" class="label label-primary"\n		ng-click="add(column)">\n			{{\'columns.\' + column.name | translate}}\n			<span class="glyphicon glyphicon-plus"></span>\n		</span>\n	</div>\n</div>\n<div class="panel-group">\n	<column-setting column="column" ng-repeat="column in columns"></column-setting>\n</div>\n')}])}();