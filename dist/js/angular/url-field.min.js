!function(){"use strict";angular.module("risevision.widget.common.url-field",["risevision.widget.common.translate"]).directive("urlField",["$templateCache",function(t){return{restrict:"E",scope:{url:"="},template:t.get("_angular/url-field/url-field.html"),link:function(t,e){function i(){return $.trim(f.val())}function l(t){return-1===t.indexOf("://")&&(t="http://"+t),u.test(t)}function n(t){"string"==typeof t&&f.val(t)}function a(){if(!r)return!0;var t=l(i());return t||c.is(":visible")||c.show(),t}var u,r=!0,d=$(e),f=d.find("input[name='url']"),c=d.find("div.validate-url"),o=d.find("input[name='validate-url']");u=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/i,t.$watch("url",function(t){"string"==typeof t&&n(t)}),t.$on("collectAdditionalParams",function(){a()&&(t.url=i())}),o.on("click",function(){r=$(this).is(":checked")}),c.hide()}}}])}(),function(){try{app=angular.module("risevision.widget.common.url-field")}catch(t){app=angular.module("risevision.widget.common.url-field",[])}app.run(["$templateCache",function(t){"use strict";t.put("_angular/url-field/url-field.html",'<div class="form-group validate-url">\n  <div class="checkbox">\n    <label>\n      <input name="validate-url" type="checkbox" value="validate-url" checked="checked"> {{"url.validate" | translate}}\n    </label>\n  </div>\n</div>\n<div class="form-group">\n  <label>{{ "url.label" | translate }}</label>\n  <input name="url" type="text" class="form-control" placeholder="http://" />\n</div>\n')}])}();